{{template "base" .}}

{{define "title"}}–ú–µ–Ω—ñ“£ —Ç–∞–ø—Å—ã—Ä—ã—Å—Ç–∞—Ä—ã–º{{end}}

{{define "main"}}
<div class="container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>–ú–µ–Ω—ñ“£ —Å–∞—Ç—ã–ø –∞–ª—É —Ç–∞—Ä–∏—Ö—ã–º</h2>
        <span class="badge" style="background: #00afca; color: white; padding: 5px 12px; border-radius: 4px;">
            –ë–∞—Ä–ª—ã“ì—ã: {{len .Orders}} —Ç–∞–ø—Å—ã—Ä—ã—Å
        </span>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem;">
        {{range .Orders}}
            <article class="card" style="border: 1px solid #eee; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column;">
                <header style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #eee;">
                    <strong style="font-size: 0.8rem; color: #666;">–¢–ê–ü–°–´–†–´–° ID:</strong>
                    <code style="display: block; font-size: 0.9rem; color: #333;">{{.ID.Hex}}</code>
                </header>

                <div style="padding: 15px; flex-grow: 1;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <span>–ö“Ø–π—ñ:</span>
                        <span style="padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.8rem;
                            {{if eq .Status "Pending"}} background: #fff3cd; color: #856404;
                            {{else if eq .Status "Paid"}} background: #d4edda; color: #155724;
                            {{else if eq .Status "Cancelled"}} background: #f8d7da; color: #721c24;
                            {{else}} background: #e2e3e5; {{end}}">
                            {{if eq .Status "Pending"}}–ö“Ø—Ç—ñ–ª—É–¥–µ
                            {{else if eq .Status "Paid"}}–¢”©–ª–µ–Ω–¥—ñ
                            {{else if eq .Status "Cancelled"}}–ë–∞—Å —Ç–∞—Ä—Ç—ã–ª–¥—ã
                            {{else}}{{.Status}}{{end}}
                        </span>
                    </div>

                    <p style="font-size: 1.2rem; margin: 15px 0;">–ñ–∏—ã–Ω—ã: <strong>{{.TotalPrice}} ‚Ç∏</strong></p>

                    <a href="/order?id={{.ID.Hex}}" class="btn-primary" style="display: block; text-align: center; text-decoration: none; padding: 10px; border-radius: 4px; background: #333; color: white;">
                        –¢–æ–ª—ã“õ –º”ô–ª—ñ–º–µ—Ç –∂”ô–Ω–µ —Ç”©–ª–µ–º
                    </a>
                </div>

                <footer style="padding: 12px 15px; background: #fafafa; border-top: 1px solid #eee; font-size: 0.8rem; color: #888;">
                    –¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—ñ–ª–¥—ñ: {{.CreatedAt.Format "02.01.2006, 15:04"}}
                </footer>
            </article>
        {{else}}
            <div style="grid-column: 1 / -1; text-align: center; padding: 60px; border: 2px dashed #ccc; border-radius: 12px;">
                <div style="font-size: 3rem; margin-bottom: 20px;">üì¶</div>
                <h3>–°—ñ–∑ ”ô–ª—ñ –µ—à—Ç–µ“£–µ–≥–µ —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä–º–µ–≥–µ–Ω—Å—ñ–∑</h3>
                <p style="color: #666; margin-bottom: 20px;">–û—Ç–∞–Ω–¥—ã“õ —Å–∞—Ç—É—à—ã–ª–∞—Ä–¥–∞–Ω –µ—Ä–µ–∫—à–µ —Ç–∞—É–∞—Ä–ª–∞—Ä —Ç–∞–±—É“ì–∞ –¥–∞–π—ã–Ω—Å—ã–∑ –±–∞?</p>
                <a href="/catalog" class="btn-primary" style="padding: 10px 25px;">–°–∞—Ç—ã–ø –∞–ª—É–¥—ã –±–∞—Å—Ç–∞—É</a>
            </div>
        {{end}}
    </div>
</div>
{{end}}