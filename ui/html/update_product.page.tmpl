{{template "base" .}}

{{define "title"}}Тауарды өңдеу{{end}}

{{define "main"}}
<div class="container">
    <nav style="margin-bottom: 20px;">
        <a href="/seller/dashboard" style="text-decoration: none; color: #00afca;">← Жеке кабинетке қайту</a>
    </nav>

    <article class="card" style="padding: 30px; border: 1px solid var(--border);">
        <header>
            <h2>Тауарды өңдеу</h2>
            <p style="color: #666;">Қажетті өрістерді өзгертіп, "Өзгерістерді сақтау" түймесін басыңыз</p>
        </header>

        <form action="/product/update/save" method="POST">
            <input type="hidden" name="id" value="{{.Product.ID.Hex}}">

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label>Тауар атауы</label>
                    <input type="text" name="name" value="{{.Product.Name}}" required>
                </div>
                <div>
                    <label>Бағасы (₸)</label>
                    <input type="number" name="price" value="{{.Product.Price}}" required>
                </div>
                <div>
                    <label>Қала</label>
                    <input type="text" name="city" value="{{.Product.City}}" required>
                </div>
                <div>
                    <label>Санат</label>
                   <select name="category_id" required>
                       {{range .Categories}}
                           <option value="{{.ID.Hex}}" {{if $.Product}}{{if eq .ID.Hex $.Product.CategoryID.Hex}}selected{{end}}{{end}}>
                               {{.Name}}
                           </option>
                       {{end}}
                   </select>
                </div>
            </div>

            <div style="margin-top: 15px;">
                <label>Сипаттамасы</label>
                <textarea name="description" rows="5" required>{{.Product.Description}}</textarea>
            </div>

            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button type="submit" class="btn-primary" style="background-color: #00afca; flex: 1; color: white; border: none; padding: 14px 20px; border-radius: 8px; cursor: pointer;">
                    Өзгерістерді сақтау
                </button>
                <a href="/seller/dashboard" class="btn-secondary" style="text-align: center; flex: 1; padding: 14px 20px; border: 1px solid #ccc; text-decoration: none; color: #333; border-radius: 8px;">
                    Бас тарту
                </a>
            </div>
        </form>
    </article>
</div>
{{end}}