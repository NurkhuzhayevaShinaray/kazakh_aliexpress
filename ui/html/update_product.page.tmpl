{{template "base" .}}

{{define "title"}}Редактировать товар{{end}}

{{define "main"}}
<div class="container">
    <nav style="margin-bottom: 20px;">
        <a href="/seller/dashboard" style="text-decoration: none; color: #00afca;">← Назад в дашборд</a>
    </nav>

    <article class="card" style="padding: 30px; border: 1px solid var(--border);">
        <header>
            <h2>Редактирование товара</h2>
            <p style="color: #666;">Измените необходимые поля и нажмите "Сохранить изменения"</p>
        </header>

        <form action="/product/update/save" method="POST">
            <input type="hidden" name="id" value="{{.Product.ID.Hex}}">

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <label>Название товара</label>
                    <input type="text" name="name" value="{{.Product.Name}}" required>
                </div>
                <div>
                    <label>Цена (₸)</label>
                    <input type="number" name="price" value="{{.Product.Price}}" required>
                </div>
                <div>
                    <label>Город</label>
                    <input type="text" name="city" value="{{.Product.City}}" required>
                </div>
                <div>
                    <label>Категория</label>
                   <select name="category_id" required>
                       {{range .Categories}}
                           <option value="{{.ID.Hex}}" {{if $.Product}}{{if eq .ID.Hex $.Product.CategoryID.Hex}}selected{{end}}{{end}}>
                               {{.Name}}
                           </option>
                       {{end}}
                   </select>
                </div>
            </div>

            <div style="margin-top: 15px;">
                <label>Описание</label>
                <textarea name="description" rows="5" required>{{.Product.Description}}</textarea>
            </div>

            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button type="submit" class="btn-primary" style="background-color: #00afca; flex: 1;">
                    Сохранить изменения
                </button>
                <a href="/seller/dashboard" class="btn-secondary" style="text-align: center; flex: 1; padding: 14px 20px; border: 1px solid #ccc; text-decoration: none; color: #333; border-radius: 8px;">
                    Отмена
                </a>
            </div>
        </form>
    </article>
</div>
{{end}}