{{define "main"}}
    <h2>Product Management</h2>

    <article>
        <header><strong>Add New Product</strong></header>
        <form action="/product/create" method="POST" style="display: flex; gap: 10px; align-items: flex-end;">
            <div>
                <label>Name</label>
                <input type="text" name="name" required>
            </div>
            <div>
                <label>Price</label>
                <input type="number" name="price" required>
            </div>
            <div>
                <label>Stock</label>
                <input type="number" name="stock" required>
            </div>
            <button type="submit" style="margin-bottom: var(--spacing);">Add</button>
        </form>
    </article>

    <form action="/catalog" method="GET">
        <input type="text" name="search" placeholder="Search by name...">
        <button type="submit">Search</button>
    </form>

    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
        {{range .Products}}
            <article style="border: 1px solid #ccc; padding: 10px;">
                <h3>{{.Name}}</h3>
                <p>{{.Price}} â‚¸</p>
                <form action="/product/delete" method="POST">
                    <input type="hidden" name="id" value="{{.ID.Hex}}">
                    <button style="background: #e74c3c; color: white; border: none;">Delete</button>
                </form>
            </article>
        {{else}}
            <p>No products found.</p>
        {{end}}
    </div>
{{end}}